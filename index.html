<!doctypehtml><html><head><title>Page Sandbox</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><base target=_blank><style>body{padding:0 .5em}.box{margin-top:1em}#txtURL{width:100%;height:2em;text-indent:.5em;padding:.25em 0}#btnGo{width:100%;font-size:1.5em}#list a{margin:1em}</style></head><body><div class=box><input id=txtURL value=www.baidu.com autofocus></div><div class=box><button id=btnGo disabled=disabled>初始化中...</button></div><div class=box><span>切换线路:</span> <select id=selNode disabled=disabled><optgroup label=直连><option value=aliyun-hk>轻量云-香港</option><option value=aliyun-sg>轻量云-新加坡</option><option value=bwh-la>搬瓦工-洛杉矶</option><option value=justhost-moscow>JustHost-莫斯科</option><option value=justhost-novosibirsk>JustHost-新西伯利亚</option><option value=bungeecloud-fr>BungeeCloud-法国</option></optgroup><optgroup label="CF 代理"><option value=cf-aliyun-hk>轻量云-香港</option><option value=cf-aliyun-sg>轻量云-新加坡</option><option value=cf-bwh-la>搬瓦工-洛杉矶</option><option value=cf-justhost-moscow>JustHost-莫斯科</option><option value=cf-justhost-novosibirsk>JustHost-新西伯利亚</option><option value=cf-bungeecloud-fr>BungeeCloud-法国</option></optgroup><optgroup label=测试><option value=local>localhost</option></optgroup></select></div><div class=box id=list></div><script>var a=100,i=102,c=103,r=200,n=navigator.serviceWorker;function l(){return location.pathname.replace(/[^/]+$/,"/")}function s(){selNode.disabled=!1,n.addEventListener("message",function(t){var e=t.data,o=e[0],n=e[1];switch(o){case c:selNode.querySelector("*[value="+n+"]").selected=!0;break;case r:"#local"===location.hash?h(i,"local"):h(a),(new Image).src="https://www.google.com/favicon.ico"}})}function u(t){txtURL.value=t}function h(t,e){var o=n.controller;o?o.postMessage([t,e]):console.log("ctl is null")}btnGo.onclick=function(){var t=txtURL.value.trim();0<=t.indexOf("-----")&&(t=t.split("-----").pop(),txtURL.value=t);var e=function o(t){return l()+"-----"+t}(function n(t){return/^https?:\/\//i.test(t)?t:/\.(com|cn|net|org|tv)$/.test(t)?"https://"+t:"https://www.google.com/search?q="+encodeURIComponent(t)}(t));open(e).opener=null},txtURL.onkeypress=function(t){13===t.keyCode&&btnGo.onclick()},txtURL.setSelectionRange(0,txtURL.value.length),selNode.onchange=function(){var t=this.options[this.selectedIndex];h(i,t.value)};var t=[["google",""],["youtube",""],["twitter","twitter.com/google"],["flickr",""],["quora","www.quora.com/topic/JavaScript-programming-language"],["twitch","www.twitch.tv"],["reddit",""],["wiki","zh.wikipedia.org"],["gist","gist.github.com"],["facebook","facebook.com/Google/"],["blogger",""]];function g(){list.innerHTML=t.map(function(t){var e=t[0];return"<a rel=noopener href=/-----https://"+(t[1]||"www."+e+".com")+"><img width=128 height=128 src=ico/"+e+".png></a>"}).join("")}!function v(){var t=document.referrer,e=t&&new URL(t),o=e&&e.host;/(github\.com|github\.io|v2ex\.com|atatech\.org)$/.test(o)||"localhost"===location.host||"#local"===location.hash?(console.log("JsProxy v0.0.1 https://github.com/EtherDream/jsproxy/"),self.isSecureContext?n&&self.ReadableStream?(btnGo.disabled=!1,btnGo.textContent="Go",n.getRegistration().then(function(t){t?(s(),h(a)):n.register(l()+"x.js").then(s)["catch"](u)}),window.onload=g):txtURL.value="浏览器版本过低，推荐使用最新版 Chrome 浏览器":txtURL.value="本程序需要 HTTPS 站点"):document.body.innerHTML='Service Unavailable (<a href="https://github.com/EtherDream/jsproxy/">GitHub</a>)'}()</script></body></html>